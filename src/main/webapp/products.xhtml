<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Products</title>
    </h:head>
    <h:body>
        <ui:composition template="/templates/base.xhtml">
        	<ui:define name="header">
        	
        	</ui:define>
        	<ui:define name="content">
        		<div class="container">
        			<h1 class="text-center">#{pMsg['product.admin']}</h1>
        			<h:form enctype="multipart/form-data">
        				<div class="form-group">
        					<h:outputLabel value="#{pMsg['product.name']}" />
        					<h:inputText id="txtName" value="#{productBean.name}" styleClass="form-control" />
        				</div>
        				<div class="form-group">
        					<h:outputLabel value="#{pMsg['product.description']}" />
        					<h:inputTextarea id="txtDescription" value="#{productBean.description}" styleClass="form-control" />
        				</div>
        				<div class="form-group">
        					<h:outputLabel value="#{pMsg['product.price']}" />
        					<h:inputText id="txtPrice" value="#{productBean.price}" styleClass="form-control" />
        				</div>
        				<div class="form-group">
        					<h:outputLabel value="#{pMsg['product.cate']}" />
        					<h:selectOneMenu id="category" 
        									converter="CategoryConverter"
        									value="#{productBean.category}"
        									styleClass="form-control">
        						<f:selectItems var="cat" value="#{cateBean.categories}" itemLabel="#{cat.name}" itemValue="#{cat}" />
        					</h:selectOneMenu>
        				</div>
        				<div class="form-group">
        					<h:outputLabel value="#{pMsg['product.manufacturer']}" />
        					<h:selectManyListbox id="manufacturer"
        										 converter="ManufacturerConverter"
        										 value="#{productBean.manufacturers}"
        										 styleClass="form-control">
        						<f:selectItems var="manu" value="#{cateBean.manufacturers}"
        						itemLabel="#{manu.name}" itemValue="#{manu}"/>
        					</h:selectManyListbox>
        				</div>
        				<div class="form-group">
        					<h:outputLabel value="#{pMsg['product.image']}" />
        					<h:inputFile id="fileImage"
        								value="#{productBean.imgFile}" 
        								validator="UploadValidator"
        								styleClass="form-control"/>
        					<h:message for="fileImage" styleClass="alert alert-danger"/>
        				</div>
        				<div class="form-group">
        					<h:inputHidden value="#{productBean.productId}" />
        					
        					<h:commandButton action="#{productBean.addProduct()}" value="#{pMsg['product.add']}" styleClass="btn btn-warning" />
        				</div>
        				
        			</h:form>
        		</div>
        	</ui:define>
        </ui:composition>
    </h:body>
</html>